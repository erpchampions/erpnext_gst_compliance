import erpnext_gst_compliance.efris_utils
import random
def main():
    print("Goods,starting...")#,goodsUpload)
    #resp_content = erpnext_gst_compliance.efris_utils.make_post("T130", goodsUpload)
    resp_content = erpnext_gst_compliance.efris_utils.make_post("T109", invoiceUpload_Goods_NonExcise)
    
    print("main resp:", resp_content)

random_integer = random.randint(1, 1000000)

goodsUpload = [
    {
        "operationType": "101",
        "goodsName": "pencils-227",
        "goodsCode": "0008496999",
        "measureUnit": "101",
        "unitPrice": "12000",
        "currency": "101",
        "commodityCategoryId": "50151513",
        "haveExciseTax": "102",
        "stockPrewarning": "0",
        "havePieceUnit": "102",
        "goodsOtherUnits": [],
    }
]


invoiceUpload_Services = {
   "sellerDetails": {
      "tin": "1002170340",
      "ninBrn": "",
      "legalName": "ASK CORPORATE CONSULTS LTD",
      "businessName": "ASK CORPORATE CONSULTS LTD",
      "address": "KAMPALA",
      "mobilePhone": "15501234567",
      "linePhone": "010-6689666",
      "emailAddress": "123456@163.com",
      "placeOfBusiness": "1496 KYEBANDO ROAD BUSINESS GARDEN KAMWOKYA KAMPALA KAWEMPE DIVISION SOUTH KAWEMPE DIVISION MULAGO III",
      "referenceNo": str(random_integer),
      "branchId": "",
      "isCheckReferenceNo": "0",
      "branchName": "Test",
      "branchCode": ""
   },
   "basicInformation": {
      "invoiceNo": "",
      "antifakeCode": "",
      "deviceNo": "1002170340_01",
      "issuedDate": "2023-05-21 21:40:00",
      "operator": "aisino",
      "currency": "UGX",
      "oriInvoiceId": "1",
      "invoiceType": "1",
      "invoiceKind": "1",
      "dataSource": "101",
      "invoiceIndustryCode": "101",
      "isBatch": "0"
   },
   "buyerDetails": {
      "buyerTin": "1016851411",
      "buyerNinBrn": "/80020002454894",
      "buyerPassportNum": "",
      "buyerLegalName": "TECH THINGS LIMITED",
      "buyerBusinessName": "TECH THINGS LIMITED",
      "buyerAddress": "beijin",
      "buyerEmail": "123456@163.com",
      "buyerMobilePhone": "15501234567",
      "buyerLinePhone": "010-6689666",
      "buyerPlaceOfBusi": "beijin",
      "buyerType": "0",
      "buyerCitizenship": "1",
      "buyerSector": "1",
      "buyerReferenceNo": "00000000001",
      "nonResidentFlag": "0"
   },
   "buyerExtend": {
      "propertyType": "abc",
      "district": "haidian",
      "municipalityCounty": "haidian",
      "divisionSubcounty": "haidian1",
      "town": "haidian1",
      "cellVillage": "haidian1",
      "effectiveRegistrationDate": "2020-10-19",
      "meterStatus": "101"
   },
   "goodsDetails": [
      {
         "item": "Professional Fees Actuarial",
         "itemCode": "Prof-FEE01",
         "qty": "1",
         "unitOfMeasure": "101",
         "unitPrice": "2714000.00",
         "total": "2714000.00",
         "taxRate": "0.18",
         "tax": "414000.00",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": "0",
         "discountFlag": "2",
         "deemedFlag": "2",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "80101512",
         "goodsCategoryName": "Actuarial consulting services",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": "",
         "vatApplicableFlag": "1",
         "deemedExemptCode": "101",
         "vatProjectId": "",
         "vatProjectName": "testAskcc2"
      }
   ],
   "taxDetails": [
      {
         "taxCategoryCode": "01",
         "netAmount": "203389.83",
         "taxRate": "0.18",
         "taxAmount": "414000.00",
         "grossAmount": "2714000.00",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "taxRateName": "123"
      }
   ],
   "summary": {
      "netAmount": "2300000.00",
      "taxAmount": "414000.00",
      "grossAmount": "2714000.00",
      "itemCount": "1",
      "modeCode": "0",
      "remarks": "Test Askcc invoice 2.",
      "qrCode": ""
   },
   "payWay": [
      {
         "paymentMode": "101",
         "paymentAmount": "2714000.00",
         "orderNumber": "b"
      }
   ],
   "extend": {
      "reason": "",
      "reasonCode": ""
   },
   "importServicesSeller": {
      "importBusinessName": "",
      "importEmailAddress": "",
      "importContactNumber": "",
      "importAddress": "",
      "importInvoiceDate": "2023-05-21",
      "importAttachmentName": "",
      "importAttachmentContent": ""
   },
   "airlineGoodsDetails": [
      {
         "item": "Professional Fees Actuarial",
         "itemCode": "Prof-FEE01",
         "qty": "1",
         "unitOfMeasure": "101",
         "unitPrice": "2714000.00",
         "total": "2714000.00",
         "taxRate": "0.18",
         "tax": "414000.00",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": "0",
         "discountFlag": "2",
         "deemedFlag": "2",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "80101512",
         "goodsCategoryName": "Actuarial consulting services",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": "",
      }
   ],
   "edcDetails": {
      "tankNo": "1111",
      "pumpNo": "2222",
      "nozzleNo": "3333",
      "controllerNo": "",
      "acquisitionEquipmentNo": "",
      "levelGaugeNo": "",
      "mvrn": "",
      "updateTimes": ""
   },
   "agentEntity": {
      "tin": "",
      "legalName": "",
      "businessName": "",
      "address": ""
   }
}

invoiceUpload_Goods_NonExcise = {
   "sellerDetails": {
      "tin": "1002170340",
      "ninBrn": "",
      "legalName": "ASK CORPORATE CONSULTS LTD",
      "businessName": "ASK CORPORATE CONSULTS LTD",
      "address": "KAMPALA",
      "mobilePhone": "15501234567",
      "linePhone": "010-6689666",
      "emailAddress": "123456@163.com",
      "placeOfBusiness": "1496 KYEBANDO ROAD BUSINESS GARDEN KAMWOKYA KAMPALA KAWEMPE DIVISION SOUTH KAWEMPE DIVISION MULAGO III",
      "referenceNo": str(random_integer),
      "branchId": "",
      "isCheckReferenceNo": "0",
      "branchName": "Test",
      "branchCode": ""
   },
   "basicInformation": {
      "invoiceNo": "",
      "antifakeCode": "",
      "deviceNo": "1002170340_01",
      "issuedDate": "2023-06-14",
      "operator": "Administrator",
      "currency": "UGX",
      "oriInvoiceId": "1",
      "invoiceType": "1",
      "invoiceKind": "1",
      "dataSource": "101",
      "invoiceIndustryCode": "101",
      "isBatch": "0"
   },
   "buyerDetails": {
      "buyerTin": "1016851411",
      "buyerNinBrn": "/80020002454894",
      "buyerPassportNum": "",
      "buyerLegalName": "TECH THINGS LIMITED",
      "buyerBusinessName": "TECH THINGS LIMITED",
      "buyerAddress": "beijin",
      "buyerEmail": "123456@163.com",
      "buyerMobilePhone": "15501234567",
      "buyerLinePhone": "010-6689666",
      "buyerPlaceOfBusi": "beijin",
      "buyerType": "0",
      "buyerCitizenship": "1",
      "buyerSector": "1",
      "buyerReferenceNo": "00000000001",
      "nonResidentFlag": "0"
   },
   "buyerExtend": {
      "propertyType": "abc",
      "district": "haidian",
      "municipalityCounty": "haidian",
      "divisionSubcounty": "haidian1",
      "town": "haidian1",
      "cellVillage": "haidian1",
      "effectiveRegistrationDate": "2020-10-19",
      "meterStatus": "101"
   },
   "goodsDetails": [
      {
         "item": "pencils-10",
         "itemCode": "0008396770",
         "qty": 20,
         "unitOfMeasure": "101",
         "unitPrice": "12000.00",
         "total": "240000.00",
         "taxRate": "0.18",
         "tax": "36610.17",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": 0,
         "discountFlag": "2",
         "deemedFlag": "2",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "50151513",
         "goodsCategoryName": "Edible vegetable or plant oils",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": "",
         "vatApplicableFlag": "1",
         "deemedExemptCode": "",
         "vatProjectId": "",
         "vatProjectName": "testAskcc"
      }
   ],
   "taxDetails": [
      {
         "taxCategoryCode": "01",
         "netAmount": "203389.83",
         "taxRate": "0.18",
         "taxAmount": "36610.17",
         "grossAmount": "240000.00",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "taxRateName": "123"
      }
   ],
   "summary": {
      "netAmount": "203389.83",
      "taxAmount": "36610.17",
      "grossAmount": "240000.00",
      "itemCount": 1,
      "modeCode": "0",
      "remarks": "Test Askcc invoice.",
      "qrCode": ""
   },
   "payWay": [
      {
         "paymentMode": "101",
         "paymentAmount": "240000.00",
         "orderNumber": "a"
      }
   ],
   "extend": {
      "reason": "",
      "reasonCode": ""
   },
   "importServicesSeller": {
      "importBusinessName": "",
      "importEmailAddress": "",
      "importContactNumber": "",
      "importAddress": "",
      "importInvoiceDate": "2023-05-21",
      "importAttachmentName": "",
      "importAttachmentContent": ""
   },
   "airlineGoodsDetails": [
      {
         "item": "pencils-10",
         "itemCode": "0008396770",
         "qty": "20",
         "unitOfMeasure": "101",
         "unitPrice": "12000.00",
         "total": "240000.00",
         "taxRate": "0.18",
         "tax": "36610.17",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": "1",
         "discountFlag": "2",
         "deemedFlag": "1",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "50151513",
         "goodsCategoryName": "Edible vegetable or plant oils",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": ""
      }
   ],
   "edcDetails": {
      "tankNo": "1111",
      "pumpNo": "2222",
      "nozzleNo": "3333",
      "controllerNo": "",
      "acquisitionEquipmentNo": "",
      "levelGaugeNo": "",
      "mvrn": "",
      "updateTimes": ""
   },
   "agentEntity": {
      "tin": "",
      "legalName": "",
      "businessName": "",
      "address": ""
   }
}

invoiceUpload_Goods_NonExcise = {
      "sellerDetails": {
      "tin": "1002170340",
      "ninBrn": "",
      "legalName": "ASK CORPORATE CONSULTS LTD",
      "businessName": "ASK CORPORATE CONSULTS LTD",
      "address": "KAMPALA",
      "mobilePhone": "15501234567",
      "linePhone": "010-6689666",
      "emailAddress": "123456@163.com",
      "placeOfBusiness": "1496 KYEBANDO ROAD BUSINESS GARDEN KAMWOKYA KAMPALA KAWEMPE DIVISION SOUTH KAWEMPE DIVISION MULAGO III",
      "referenceNo": str(random_integer),
      "branchId": "",
      "isCheckReferenceNo": "0",
      "branchName": "Test",
      "branchCode": ""
   },
   "basicInformation": {
      "invoiceNo": "",
      "antifakeCode": "",
      "deviceNo": "1002170340_01",
      "issuedDate": "2023-05-21 21:40:00",
      "operator": "aisino",
      "currency": "UGX",
      "oriInvoiceId": "1",
      "invoiceType": "1",
      "invoiceKind": "1",
      "dataSource": "101",
      "invoiceIndustryCode": "101",
      "isBatch": "0"
   },
   "buyerDetails": {
      "buyerTin": "1016851411",
      "buyerNinBrn": "/80020002454894",
      "buyerPassportNum": "",
      "buyerLegalName": "TECH THINGS LIMITED",
      "buyerBusinessName": "TECH THINGS LIMITED",
      "buyerAddress": "beijin",
      "buyerEmail": "123456@163.com",
      "buyerMobilePhone": "15501234567",
      "buyerLinePhone": "010-6689666",
      "buyerPlaceOfBusi": "beijin",
      "buyerType": "0",
      "buyerCitizenship": "1",
      "buyerSector": "1",
      "buyerReferenceNo": "00000000001",
      "nonResidentFlag": "0"
   },
   "buyerExtend": {
      "propertyType": "abc",
      "district": "haidian",
      "municipalityCounty": "haidian",
      "divisionSubcounty": "haidian1",
      "town": "haidian1",
      "cellVillage": "haidian1",
      "effectiveRegistrationDate": "2020-10-19",
      "meterStatus": "101"
   },
   "goodsDetails": [
      {
         "item": "pencils-10",
         "itemCode": "0008396770",
         "qty": "20",
         "unitOfMeasure": "101",
         "unitPrice": "12000.00",
         "total": "240000.00",
         "taxRate": "0.18",
         "tax": "36610.17",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": "0",
         "discountFlag": "2",
         "deemedFlag": "2",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "50151513",
         "goodsCategoryName": "Edible vegetable or plant oils",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": "",
         "vatApplicableFlag": "1",
         "deemedExemptCode": "",
         "vatProjectId": "",
         "vatProjectName": "testAskcc"
      }
   ],
   "taxDetails": [
      {
         "taxCategoryCode": "01",
         "netAmount": "203389.83",
         "taxRate": "0.18",
         "taxAmount": "36610.17",
         "grossAmount": "240000.00",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "taxRateName": "123"
      }
   ],
   "summary": {
      "netAmount": "203389.83",
      "taxAmount": "36610.17",
      "grossAmount": "240000.00",
      "itemCount": "1",
      "modeCode": "0",
      "remarks": "Test Askcc invoice.",
      "qrCode": ""
   },
   "payWay": [
      {
         "paymentMode": "101",
         "paymentAmount": "240000.00",
         "orderNumber": "a"
      }
   ],
   "extend": {
      "reason": "",
      "reasonCode": ""
   },
   "importServicesSeller": {
      "importBusinessName": "",
      "importEmailAddress": "",
      "importContactNumber": "",
      "importAddress": "",
      "importInvoiceDate": "2023-05-21",
      "importAttachmentName": "",
      "importAttachmentContent": ""
   },
   "airlineGoodsDetails": [
      {
         "item": "pencils-10",
         "itemCode": "0008396770",
         "qty": "20",
         "unitOfMeasure": "101",
         "unitPrice": "12000.00",
         "total": "240000.00",
         "taxRate": "0.18",
         "tax": "36610.17",
         "discountTotal": "",
         "discountTaxRate": "0.00",
         "orderNumber": "1",
         "discountFlag": "2",
         "deemedFlag": "1",
         "exciseFlag": "2",
         "categoryId": "",
         "categoryName": "",
         "goodsCategoryId": "50151513",
         "goodsCategoryName": "Edible vegetable or plant oils",
         "exciseRate": "",
         "exciseRule": "",
         "exciseTax": "",
         "pack": "",
         "stick": "",
         "exciseUnit": "101",
         "exciseCurrency": "UGX",
         "exciseRateName": ""
      }
   ],
   "edcDetails": {
      "tankNo": "1111",
      "pumpNo": "2222",
      "nozzleNo": "3333",
      "controllerNo": "",
      "acquisitionEquipmentNo": "",
      "levelGaugeNo": "",
      "mvrn": "",
      "updateTimes": ""
   },
   "agentEntity": {
      "tin": "",
      "legalName": "",
      "businessName": "",
      "address": ""
   }
}




if __name__ == "__main__":

    main()
